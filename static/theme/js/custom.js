(function($) {
  "use strict"; // Start of use strict
    var chart1_title = $("#chart1_title").val();
    //var data_json = $("#chart1_data").val();

    var data_json = {"y_negative":[{"t":1648576451910,"y":-5},{"t":1648576462379,"y":-9},{"t":1648576472849,"y":-7},{"t":1648576483320,"y":-8},{"t":1648576493801,"y":-13},{"t":1648576504268,"y":-10},{"t":1648576514736,"y":-6},{"t":1648576525212,"y":-12},{"t":1648576535681,"y":-16},{"t":1648576546150,"y":-4},{"t":1648576556616,"y":-17},{"t":1648576567085,"y":-5},{"t":1648576577551,"y":-8},{"t":1648576588022,"y":-16},{"t":1648576598490,"y":-17},{"t":1648576608959,"y":-2},{"t":1648576619426,"y":-10},{"t":1648576629895,"y":-7},{"t":1648576640364,"y":-8},{"t":1648576650833,"y":-18},{"t":1648576661306,"y":-7},{"t":1648576671775,"y":-5},{"t":1648576682465,"y":-13},{"t":1648576692936,"y":-5},{"t":1648576703407,"y":-5},{"t":1648576713878,"y":-16},{"t":1648576724347,"y":-8},{"t":1648576734816,"y":-6},{"t":1648576745289,"y":-11},{"t":1648576755754,"y":-8},{"t":1648576766222,"y":-11},{"t":1648576776693,"y":-5},{"t":1648576787165,"y":-16},{"t":1648576797637,"y":-9},{"t":1648576808108,"y":-4},{"t":1648576818577,"y":-19},{"t":1648576829045,"y":-2},{"t":1648576839515,"y":-10},{"t":1648576849985,"y":-11},{"t":1648576860703,"y":-5},{"t":1648576871173,"y":-5},{"t":1648576881641,"y":-10},{"t":1648576892110,"y":-2},{"t":1648576902579,"y":-6},{"t":1648576913053,"y":-2},{"t":1648576923520,"y":-2},{"t":1648576933987,"y":-20},{"t":1648576944456,"y":-8},{"t":1648576954930,"y":-1},{"t":1648576965401,"y":-4},{"t":1648576975873,"y":-19},{"t":1648576986341,"y":-16},{"t":1648576996811,"y":-7},{"t":1648577007283,"y":-12},{"t":1648577017757,"y":-6},{"t":1648577028230,"y":-19},{"t":1648577038698,"y":-19},{"t":1648577049165,"y":-11},{"t":1648577059637,"y":-20},{"t":1648577070112,"y":-11},{"t":1648577080668,"y":-14},{"t":1648577091134,"y":-3},{"t":1648577102586,"y":-8},{"t":1648577113055,"y":-16},{"t":1648577123523,"y":-17},{"t":1648577133997,"y":-18},{"t":1648577144466,"y":-7},{"t":1648577154934,"y":-6},{"t":1648577165404,"y":-6},{"t":1648577175879,"y":-6},{"t":1648577186353,"y":-1},{"t":1648577196826,"y":-4},{"t":1648577207293,"y":-8},{"t":1648577217760,"y":-7},{"t":1648577228230,"y":-5},{"t":1648577238699,"y":-14},{"t":1648577249168,"y":-15},{"t":1648577259639,"y":-14},{"t":1648577270111,"y":-11},{"t":1648577281781,"y":-2},{"t":1648577292251,"y":-8},{"t":1648577302720,"y":-18},{"t":1648577313188,"y":-9},{"t":1648577323655,"y":-20},{"t":1648577334127,"y":-17},{"t":1648577344598,"y":-16},{"t":1648577355072,"y":-13},{"t":1648577365542,"y":-6},{"t":1648577376017,"y":-5},{"t":1648577386486,"y":-8},{"t":1648577396955,"y":-2},{"t":1648577407425,"y":-9},{"t":1648577417894,"y":-19},{"t":1648577428365,"y":-20},{"t":1648577438838,"y":-2},{"t":1648577449306,"y":-10},{"t":1648577459779,"y":-11},{"t":1648577470257,"y":-12},{"t":1648577480727,"y":-13},{"t":1648577491197,"y":-5},{"t":1648577501673,"y":-17},{"t":1648577512142,"y":-8},{"t":1648577522730,"y":-6},{"t":1648577533200,"y":-14},{"t":1648577543674,"y":-11},{"t":1648577554144,"y":-13},{"t":1648577564617,"y":-16},{"t":1648577575085,"y":-18},{"t":1648577585553,"y":-9},{"t":1648577596025,"y":-16},{"t":1648577606496,"y":-15},{"t":1648577616969,"y":-14},{"t":1648577627442,"y":-11},{"t":1648577637915,"y":-11},{"t":1648577648384,"y":-18},{"t":1648577658861,"y":-5},{"t":1648577669333,"y":-9},{"t":1648577679802,"y":-20},{"t":1648577690276,"y":-10},{"t":1648577701285,"y":-13},{"t":1648577711755,"y":-2},{"t":1648577722223,"y":-10},{"t":1648577732697,"y":-6},{"t":1648577743173,"y":-18},{"t":1648577753651,"y":-7},{"t":1648577764121,"y":-1},{"t":1648577774591,"y":-7},{"t":1648577785061,"y":-17},{"t":1648577795531,"y":-14},{"t":1648577806001,"y":-3},{"t":1648577816479,"y":-18},{"t":1648577826947,"y":-12},{"t":1648577837418,"y":-14},{"t":1648577847885,"y":-13},{"t":1648577858356,"y":-18},{"t":1648577868829,"y":-12},{"t":1648577879299,"y":-7},{"t":1648577889773,"y":-9},{"t":1648577900244,"y":-15},{"t":1648577910719,"y":-10},{"t":1648577921191,"y":-15},{"t":1648577931659,"y":-4},{"t":1648577942147,"y":-19},{"t":1648577952618,"y":-7},{"t":1648577963086,"y":-17},{"t":1648577973556,"y":-17},{"t":1648577984027,"y":-7},{"t":1648577994498,"y":-8},{"t":1648578004968,"y":-9},{"t":1648578015436,"y":-8},{"t":1648578025905,"y":-14},{"t":1648578036371,"y":-15},{"t":1648578046841,"y":-19},{"t":1648578057308,"y":-19},{"t":1648578067777,"y":-9},{"t":1648578078248,"y":-14},{"t":1648578088717,"y":-3},{"t":1648578099187,"y":-7},{"t":1648578109658,"y":-5},{"t":1648578120128,"y":-9},{"t":1648578130597,"y":-14},{"t":1648578141067,"y":-10},{"t":1648578151535,"y":-6},{"t":1648578162003,"y":-8},{"t":1648578172472,"y":-14},{"t":1648578182940,"y":-18},{"t":1648578193409,"y":-20},{"t":1648578203887,"y":-13},{"t":1648578214358,"y":-10},{"t":1648578224826,"y":-2},{"t":1648578235298,"y":-3},{"t":1648578245767,"y":-8},{"t":1648578256238,"y":-1},{"t":1648578266709,"y":-9},{"t":1648578277181,"y":-14},{"t":1648578287648,"y":-2},{"t":1648578298120,"y":-3},{"t":1648578308586,"y":-2},{"t":1648578319055,"y":-15},{"t":1648578329522,"y":-8}],"y_neutral":[{"t":1648576451910,"y":98},{"t":1648576462379,"y":90},{"t":1648576472849,"y":75},{"t":1648576483320,"y":73},{"t":1648576493801,"y":100},{"t":1648576504268,"y":56},{"t":1648576514736,"y":58},{"t":1648576525212,"y":63},{"t":1648576535681,"y":74},{"t":1648576546150,"y":59},{"t":1648576556616,"y":69},{"t":1648576567085,"y":75},{"t":1648576577551,"y":96},{"t":1648576588022,"y":63},{"t":1648576598490,"y":79},{"t":1648576608959,"y":78},{"t":1648576619426,"y":81},{"t":1648576629895,"y":90},{"t":1648576640364,"y":57},{"t":1648576650833,"y":63},{"t":1648576661306,"y":66},{"t":1648576671775,"y":97},{"t":1648576682465,"y":94},{"t":1648576692936,"y":88},{"t":1648576703407,"y":94},{"t":1648576713878,"y":91},{"t":1648576724347,"y":77},{"t":1648576734816,"y":68},{"t":1648576745289,"y":56},{"t":1648576755754,"y":98},{"t":1648576766222,"y":93},{"t":1648576776693,"y":98},{"t":1648576787165,"y":58},{"t":1648576797637,"y":76},{"t":1648576808108,"y":94},{"t":1648576818577,"y":97},{"t":1648576829045,"y":83},{"t":1648576839515,"y":65},{"t":1648576849985,"y":90},{"t":1648576860703,"y":67},{"t":1648576871173,"y":60},{"t":1648576881641,"y":93},{"t":1648576892110,"y":96},{"t":1648576902579,"y":54},{"t":1648576913053,"y":67},{"t":1648576923520,"y":51},{"t":1648576933987,"y":94},{"t":1648576944456,"y":58},{"t":1648576954930,"y":99},{"t":1648576965401,"y":86},{"t":1648576975873,"y":84},{"t":1648576986341,"y":92},{"t":1648576996811,"y":66},{"t":1648577007283,"y":52},{"t":1648577017757,"y":74},{"t":1648577028230,"y":92},{"t":1648577038698,"y":97},{"t":1648577049165,"y":73},{"t":1648577059637,"y":75},{"t":1648577070112,"y":75},{"t":1648577080668,"y":92},{"t":1648577091134,"y":78},{"t":1648577102586,"y":100},{"t":1648577113055,"y":55},{"t":1648577123523,"y":88},{"t":1648577133997,"y":90},{"t":1648577144466,"y":59},{"t":1648577154934,"y":75},{"t":1648577165404,"y":84},{"t":1648577175879,"y":59},{"t":1648577186353,"y":60},{"t":1648577196826,"y":61},{"t":1648577207293,"y":93},{"t":1648577217760,"y":54},{"t":1648577228230,"y":67},{"t":1648577238699,"y":97},{"t":1648577249168,"y":81},{"t":1648577259639,"y":50},{"t":1648577270111,"y":55},{"t":1648577281781,"y":81},{"t":1648577292251,"y":99},{"t":1648577302720,"y":66},{"t":1648577313188,"y":82},{"t":1648577323655,"y":99},{"t":1648577334127,"y":73},{"t":1648577344598,"y":59},{"t":1648577355072,"y":72},{"t":1648577365542,"y":60},{"t":1648577376017,"y":81},{"t":1648577386486,"y":99},{"t":1648577396955,"y":52},{"t":1648577407425,"y":89},{"t":1648577417894,"y":73},{"t":1648577428365,"y":93},{"t":1648577438838,"y":89},{"t":1648577449306,"y":81},{"t":1648577459779,"y":98},{"t":1648577470257,"y":60},{"t":1648577480727,"y":83},{"t":1648577491197,"y":75},{"t":1648577501673,"y":88},{"t":1648577512142,"y":74},{"t":1648577522730,"y":83},{"t":1648577533200,"y":70},{"t":1648577543674,"y":82},{"t":1648577554144,"y":96},{"t":1648577564617,"y":96},{"t":1648577575085,"y":55},{"t":1648577585553,"y":76},{"t":1648577596025,"y":92},{"t":1648577606496,"y":100},{"t":1648577616969,"y":54},{"t":1648577627442,"y":55},{"t":1648577637915,"y":50},{"t":1648577648384,"y":79},{"t":1648577658861,"y":70},{"t":1648577669333,"y":71},{"t":1648577679802,"y":99},{"t":1648577690276,"y":67},{"t":1648577701285,"y":50},{"t":1648577711755,"y":60},{"t":1648577722223,"y":69},{"t":1648577732697,"y":84},{"t":1648577743173,"y":64},{"t":1648577753651,"y":55},{"t":1648577764121,"y":81},{"t":1648577774591,"y":59},{"t":1648577785061,"y":98},{"t":1648577795531,"y":95},{"t":1648577806001,"y":69},{"t":1648577816479,"y":99},{"t":1648577826947,"y":77},{"t":1648577837418,"y":52},{"t":1648577847885,"y":80},{"t":1648577858356,"y":66},{"t":1648577868829,"y":87},{"t":1648577879299,"y":94},{"t":1648577889773,"y":73},{"t":1648577900244,"y":70},{"t":1648577910719,"y":85},{"t":1648577921191,"y":94},{"t":1648577931659,"y":50},{"t":1648577942147,"y":57},{"t":1648577952618,"y":54},{"t":1648577963086,"y":72},{"t":1648577973556,"y":52},{"t":1648577984027,"y":60},{"t":1648577994498,"y":94},{"t":1648578004968,"y":72},{"t":1648578015436,"y":58},{"t":1648578025905,"y":78},{"t":1648578036371,"y":67},{"t":1648578046841,"y":99},{"t":1648578057308,"y":88},{"t":1648578067777,"y":89},{"t":1648578078248,"y":81},{"t":1648578088717,"y":67},{"t":1648578099187,"y":86},{"t":1648578109658,"y":84},{"t":1648578120128,"y":95},{"t":1648578130597,"y":98},{"t":1648578141067,"y":65},{"t":1648578151535,"y":88},{"t":1648578162003,"y":73},{"t":1648578172472,"y":76},{"t":1648578182940,"y":100},{"t":1648578193409,"y":73},{"t":1648578203887,"y":65},{"t":1648578214358,"y":75},{"t":1648578224826,"y":58},{"t":1648578235298,"y":84},{"t":1648578245767,"y":97},{"t":1648578256238,"y":60},{"t":1648578266709,"y":96},{"t":1648578277181,"y":59},{"t":1648578287648,"y":82},{"t":1648578298120,"y":74},{"t":1648578308586,"y":59},{"t":1648578319055,"y":57},{"t":1648578329522,"y":82}],"y_positive":[{"t":1648576451910,"y":19},{"t":1648576462379,"y":13},{"t":1648576472849,"y":12},{"t":1648576483320,"y":15},{"t":1648576493801,"y":13},{"t":1648576504268,"y":4},{"t":1648576514736,"y":13},{"t":1648576525212,"y":1},{"t":1648576535681,"y":15},{"t":1648576546150,"y":9},{"t":1648576556616,"y":12},{"t":1648576567085,"y":6},{"t":1648576577551,"y":17},{"t":1648576588022,"y":14},{"t":1648576598490,"y":15},{"t":1648576608959,"y":15},{"t":1648576619426,"y":14},{"t":1648576629895,"y":15},{"t":1648576640364,"y":19},{"t":1648576650833,"y":3},{"t":1648576661306,"y":2},{"t":1648576671775,"y":13},{"t":1648576682465,"y":18},{"t":1648576692936,"y":5},{"t":1648576703407,"y":3},{"t":1648576713878,"y":6},{"t":1648576724347,"y":13},{"t":1648576734816,"y":6},{"t":1648576745289,"y":11},{"t":1648576755754,"y":18},{"t":1648576766222,"y":18},{"t":1648576776693,"y":9},{"t":1648576787165,"y":6},{"t":1648576797637,"y":15},{"t":1648576808108,"y":17},{"t":1648576818577,"y":8},{"t":1648576829045,"y":15},{"t":1648576839515,"y":7},{"t":1648576849985,"y":14},{"t":1648576860703,"y":12},{"t":1648576871173,"y":17},{"t":1648576881641,"y":2},{"t":1648576892110,"y":11},{"t":1648576902579,"y":14},{"t":1648576913053,"y":6},{"t":1648576923520,"y":15},{"t":1648576933987,"y":17},{"t":1648576944456,"y":3},{"t":1648576954930,"y":10},{"t":1648576965401,"y":6},{"t":1648576975873,"y":4},{"t":1648576986341,"y":3},{"t":1648576996811,"y":12},{"t":1648577007283,"y":14},{"t":1648577017757,"y":14},{"t":1648577028230,"y":4},{"t":1648577038698,"y":5},{"t":1648577049165,"y":11},{"t":1648577059637,"y":6},{"t":1648577070112,"y":12},{"t":1648577080668,"y":19},{"t":1648577091134,"y":6},{"t":1648577102586,"y":13},{"t":1648577113055,"y":19},{"t":1648577123523,"y":10},{"t":1648577133997,"y":9},{"t":1648577144466,"y":4},{"t":1648577154934,"y":3},{"t":1648577165404,"y":19},{"t":1648577175879,"y":1},{"t":1648577186353,"y":20},{"t":1648577196826,"y":2},{"t":1648577207293,"y":3},{"t":1648577217760,"y":3},{"t":1648577228230,"y":9},{"t":1648577238699,"y":14},{"t":1648577249168,"y":14},{"t":1648577259639,"y":12},{"t":1648577270111,"y":11},{"t":1648577281781,"y":14},{"t":1648577292251,"y":12},{"t":1648577302720,"y":1},{"t":1648577313188,"y":18},{"t":1648577323655,"y":3},{"t":1648577334127,"y":20},{"t":1648577344598,"y":9},{"t":1648577355072,"y":11},{"t":1648577365542,"y":2},{"t":1648577376017,"y":11},{"t":1648577386486,"y":13},{"t":1648577396955,"y":15},{"t":1648577407425,"y":11},{"t":1648577417894,"y":13},{"t":1648577428365,"y":19},{"t":1648577438838,"y":5},{"t":1648577449306,"y":5},{"t":1648577459779,"y":15},{"t":1648577470257,"y":3},{"t":1648577480727,"y":5},{"t":1648577491197,"y":3},{"t":1648577501673,"y":5},{"t":1648577512142,"y":18},{"t":1648577522730,"y":5},{"t":1648577533200,"y":2},{"t":1648577543674,"y":1},{"t":1648577554144,"y":6},{"t":1648577564617,"y":10},{"t":1648577575085,"y":16},{"t":1648577585553,"y":5},{"t":1648577596025,"y":11},{"t":1648577606496,"y":6},{"t":1648577616969,"y":10},{"t":1648577627442,"y":18},{"t":1648577637915,"y":2},{"t":1648577648384,"y":6},{"t":1648577658861,"y":6},{"t":1648577669333,"y":6},{"t":1648577679802,"y":7},{"t":1648577690276,"y":3},{"t":1648577701285,"y":16},{"t":1648577711755,"y":17},{"t":1648577722223,"y":10},{"t":1648577732697,"y":12},{"t":1648577743173,"y":10},{"t":1648577753651,"y":9},{"t":1648577764121,"y":16},{"t":1648577774591,"y":7},{"t":1648577785061,"y":6},{"t":1648577795531,"y":3},{"t":1648577806001,"y":14},{"t":1648577816479,"y":20},{"t":1648577826947,"y":18},{"t":1648577837418,"y":11},{"t":1648577847885,"y":2},{"t":1648577858356,"y":11},{"t":1648577868829,"y":8},{"t":1648577879299,"y":8},{"t":1648577889773,"y":15},{"t":1648577900244,"y":3},{"t":1648577910719,"y":13},{"t":1648577921191,"y":11},{"t":1648577931659,"y":20},{"t":1648577942147,"y":8},{"t":1648577952618,"y":14},{"t":1648577963086,"y":10},{"t":1648577973556,"y":11},{"t":1648577984027,"y":2},{"t":1648577994498,"y":7},{"t":1648578004968,"y":6},{"t":1648578015436,"y":7},{"t":1648578025905,"y":17},{"t":1648578036371,"y":13},{"t":1648578046841,"y":12},{"t":1648578057308,"y":10},{"t":1648578067777,"y":6},{"t":1648578078248,"y":17},{"t":1648578088717,"y":4},{"t":1648578099187,"y":20},{"t":1648578109658,"y":16},{"t":1648578120128,"y":19},{"t":1648578130597,"y":2},{"t":1648578141067,"y":6},{"t":1648578151535,"y":1},{"t":1648578162003,"y":2},{"t":1648578172472,"y":13},{"t":1648578182940,"y":16},{"t":1648578193409,"y":10},{"t":1648578203887,"y":20},{"t":1648578214358,"y":15},{"t":1648578224826,"y":13},{"t":1648578235298,"y":3},{"t":1648578245767,"y":7},{"t":1648578256238,"y":17},{"t":1648578266709,"y":19},{"t":1648578277181,"y":10},{"t":1648578287648,"y":18},{"t":1648578298120,"y":4},{"t":1648578308586,"y":4},{"t":1648578319055,"y":9},{"t":1648578329522,"y":19}]};


    if(data_json != undefined)
    {
      //var data_obj = JSON.parse(data_json);
      var data_obj = data_json;

      var ctx = document.getElementById('chart1').getContext('2d');
      ctx.canvas.width = 250;
      ctx.canvas.height = 250;

      var color = Chart.helpers.color;
      var cfg = {

        data: {
          
          datasets: [
          {
            label: 'Negative',
            backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
            borderColor: window.chartColors.red,
            data: data_obj.y_negative,
            type: 'line',
            pointRadius: 0,
            fill: false,
            lineTension: 0,
            borderWidth: 2
          },
          
          
          {
            label: 'Netural',
            backgroundColor: color(window.chartColors.yellow).alpha(0.5).rgbString(),
            borderColor: window.chartColors.yellow,
            data: data_obj.y_neutral,
            type: 'line',
            pointRadius: 0,
            fill: false,
            lineTension: 0,
            borderWidth: 2
          },
          
          {
            label: 'Positive',
            backgroundColor: color(window.chartColors.green).alpha(0.5).rgbString(),
            borderColor: window.chartColors.green,
            data: data_obj.y_positive,
            type: 'line',
            pointRadius: 0,
            fill: false,
            lineTension: 0,
            borderWidth: 2
          }
          ]
          
        },
        options: {
          responsive: true,
            maintainAspectRatio: false,

          animation: {
            duration: 0
          },
          scales: {
            xAxes: [{
              type: 'time',
              distribution: 'series',
              offset: true,
              ticks: {
                major: {
                  enabled: true,
                  fontStyle: 'bold'
                },
                source: 'data',
                autoSkip: true,
                autoSkipPadding: 75,
                maxRotation: 0,
                sampleSize: 100
              },
              afterBuildTicks: function(scale, ticks) {
                return ticks;
                var majorUnit = scale._majorUnit;
                var firstTick = ticks[0];
                var i, ilen, val, tick, currMajor, lastMajor;

                val = moment(ticks[0].value);
                if ((majorUnit === 'minute' && val.second() === 0)
                    || (majorUnit === 'hour' && val.minute() === 0)
                    || (majorUnit === 'day' && val.hour() === 9)
                    || (majorUnit === 'month' && val.date() <= 3 && val.isoWeekday() === 1)
                    || (majorUnit === 'year' && val.month() === 0)) {
                  firstTick.major = true;
                } else {
                  firstTick.major = false;
                }
                lastMajor = val.get(majorUnit);

                for (i = 1, ilen = ticks.length; i < ilen; i++) {
                  tick = ticks[i];
                  val = moment(tick.value);
                  currMajor = val.get(majorUnit);
                  tick.major = currMajor !== lastMajor;
                  lastMajor = currMajor;
                }
                return ticks;
              }
            }],
            yAxes: [{
              gridLines: {
                drawBorder: false
              },
              scaleLabel: {
                display: true,
                labelString: chart1_title
              }
            }]
          },
          tooltips: {
            intersect: false,
            mode: 'index',
            callbacks: {
              label: function(tooltipItem, myData) {
                var label = myData.datasets[tooltipItem.datasetIndex].label || '';
                if (label) {
                  label += ': ';
                }
                label += parseFloat(tooltipItem.value).toFixed(2);
                return label;
              }
            }
          }
        }
      };

      var chart = new Chart(ctx, cfg);


      var ctx_pie = document.getElementById('chart1_pie').getContext('2d');
      var cfg_pie = {
        type: 'pie',
        data: {
          datasets: [{
            data: [
              -data_obj.y_negative[data_obj.y_negative.length - 1]["y"],
              data_obj.y_neutral[data_obj.y_neutral.length - 1]["y"],
              data_obj.y_positive[data_obj.y_positive.length - 1]["y"],
            ],
            backgroundColor: [
              window.chartColors.red,
              window.chartColors.yellow,            
              window.chartColors.green,            
            ],
            label: 'Dataset 1'
          }],
          labels: [
            'Negative',
            'Netural',
            'Positive'
          ]
        },
        options: {
          responsive: true
        }
      };


      var chart_pie = new Chart(ctx_pie, cfg_pie);

      function update_chart(){
        $.ajax({
            method: "GET",
            url: "/get_chart1_data",                    
        })
        .done(function(msg) {      
          chart.config.data.datasets[0].data = msg.y_negative;
          chart.config.data.datasets[1].data = msg.y_neutral;
          chart.config.data.datasets[2].data = msg.y_positive;

          chart.update();

          chart_pie.config.data.datasets[0].data = [
                -msg.y_negative[msg.y_negative.length - 1]["y"],
                msg.y_neutral[msg.y_neutral.length - 1]["y"],
                msg.y_positive[msg.y_positive.length - 1]["y"]
                ]
          chart_pie.update();
        })
        .fail(function(msg){
            console.log(msg);          
        });
      }

      setInterval(update_chart, 10*1000)
    }

    var post_table = $('#post_table').DataTable({
       responsive: true
    });

    $(".delete-btn").on("click", function(e){
      var id = $(this).data('id');
      var title = $(this).data('title');
      var msg = "Are you sure to delete?";

      bootbox.confirm("Are you sure to delete?", function(result) {
        if (result == true){
          window.location="/backend/post/" + id + "/delete";
        }
      }); 

    });
 
})(jQuery); // End of use strict